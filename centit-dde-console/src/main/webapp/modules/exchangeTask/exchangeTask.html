<div class="easyui-layout" id="ExchangeTask_panel" fit="ture">
	<div class="easyui-panel search-body" cls="search">
	    <form method ="post">
	        <div class="search-item">
	            <label>任务名称</label> 
	            <input type="text" class="easyui-textbox" name="s_taskName" id="s_taskName" prompt="任务名称" />
	        </div>
	        <div class="search-item">
	            <label>包含禁用</label> 
	            <input type="checkbox" name="s_isvalid" id="s_isvalid" value="0"/>
	        </div>
	        <a class="easyui-linkbutton btn-search" iconCls="icon-search">检索</a>
	    </form>
	</div>
	
	<div class="temp-toolbar">
		<a iconCls="icon-add" href="modules/exchangeTask/exchangeTask-edit.html" trigger="none"
			target="dialog" rel="exchangeTask_add" title="添加" width="840" height="680" btnValue="添加">添加</a>
		<hr>
		<a iconCls="icon-edit" href="modules/exchangeTask/exchangeTask-edit.html" trigger="single"
			target="dialog" rel="exchangeTask_edit" title="编辑" width="840" height="680" btnValue="编辑">编辑</a>
		<hr>
		<a iconCls="icon-base icon-base-ban" trigger="single"
			target="confirm" rel="exchangeTask_remove" title="删除">删除</a>
		<a iconCls="icon-reload"rel="exchangeTask_transfer_run" 
		   target="custom" trigger="single" ><p>执行</p></a>
	</div>
		<table  id="table_taskId"
			idField="taskId"
			checkbox="true" 
			search=".search"
			sortName="taskId" sortOrder="desc"
			url="service/exchangetask/list/1"
			toolbar=".temp-toolbar" 
			layoutH=".search" 
			treeField="text"
			singleSelect="true"
			checkOnSelect="true"
			selectOnCheck="true"
			>
			<thead>
				<tr>
					<th data-options="field:'taskId'" hidden></th>
					<th data-options="field:'taskName'" style="width: 15%">任务名称</th>
					<th data-options="field:'taskCron'" style="width: 15%">任务定时器</th>
					<th data-options="field:'taskDesc'" style="width: 15%">任务描述</th>
					<th data-options="field:'lastRunTime'" style="width: 10%">上次执行时间</th>
					<th data-options="field:'createTime'" style="width: 15%">创建时间</th>
					<th data-options="field:'createdName'" style="width: 10%">创建人员</th>
				</tr>
			</thead>
		</table>
</div>

<script>
	$.parser.onComplete = function(panel) {
		$.parser.onComplete = $.noop;
		requirejs([
		           'modules/exchangeTask/ctrl/exchangeTask'
		          ], function(ExchangeTask) {
			window.ExchangeTask = new ExchangeTask('exchangeTask', panel);
			window.ExchangeTask.load(panel);
		});
	};

</script>
